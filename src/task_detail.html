<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Habit QR</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <script type="module" src="task_detail.js"></script>
    <script type="module" src="components/task_step.js"></script>
    <script type="module"
        src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.12.0/cdn/components/qr-code/qr-code.js"></script>
</head>

<body>
    <div id="app">

        <site-header></site-header>

        <task-list></task-list>

        <button class="button is-primary" type="button" id="create-task-button">Create Task</button>

        <!-- modal to display task creation form
            - task name
            - add task step
                - timed?
                    - default duration -->
        <div class="modal" id="task-modal">
            <div class="modal-background"></div>
            <div class="modal-content">
                <div class="box">
                    <form>
                        <div class="block">
                            <h1 class="title">New Task</h1>
                            <div class="field">
                                <label class="label">Task Name</label>
                                <div class="control">
                                    <input class="input" type="text" id="task-name-input"
                                        placeholder="Reticulate Splines">
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="block">
                            <h4 class="title is-4">Steps</h2>
                            <ul id="step-list">

                            </ul>
                            <div class="field">
                                <label class="label">Step Name</label>
                                <div class="control">
                                    <input class="input" type="text" placeholder="step name" id="step-name-field">
                                </div>
                            </div>
                            <div class="field">
                                <label class="label">Step Duration in Minutes (Optional)</label>
                                <div class="control">
                                    <input class="input" type="number" placeholder="0" id="step-duration-field">
                                </div>
                            </div>
                            <div class="control">
                                <button class="button is-primary" type="button" id="create-task-step-button">Add
                                    Step</button>
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <button class="button is-primary" type="button" id="save-task-button">Save Task</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <p>Post this QR code at your task location</p>
    <sl-qr-code value="" error-correction="M" id="qr-code"></sl-qr-code>

    </div>
    <script type="module" src="/main.js"></script>
</body>

</html>